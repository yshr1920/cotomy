"use strict";(globalThis.webpackChunkreference_site=globalThis.webpackChunkreference_site||[]).push([[9962],{8097(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"reference/getting-started/debugging-and-tips","title":"Debugging and Tips","description":"This final chapter focuses on Cotomy-specific debugging.","source":"@site/docs/reference/getting-started/08-debugging-and-tips.md","sourceDirName":"reference/getting-started","slug":"/reference/getting-started/debugging-and-tips","permalink":"/cotomy/reference/getting-started/debugging-and-tips","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Debugging and Tips","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Page Control","permalink":"/cotomy/reference/getting-started/page-control"},"next":{"title":"CotomyScrollOptions","permalink":"/cotomy/reference/classes/view/cotomy-scroll-options"}}');var i=s(4848),o=s(8453);const r={title:"Debugging and Tips",sidebar_position:8},l="Debugging and Tips",d={},c=[{value:"Goals",id:"goals",level:2},{value:"Related Classes",id:"related-classes",level:2},{value:"1) Cotomy Debugging Mindset",id:"1-cotomy-debugging-mindset",level:2},{value:"2) UI Does Not Update",id:"2-ui-does-not-update",level:2},{value:"3) Event Not Firing",id:"3-event-not-firing",level:2},{value:"4) Form Submit Not Triggered",id:"4-form-submit-not-triggered",level:2},{value:"5) Ajax Form Not Loading",id:"5-ajax-form-not-loading",level:2},{value:"6) Renderer Issues",id:"6-renderer-issues",level:2},{value:"7) Scoped CSS Problems",id:"7-scoped-css-problems",level:2},{value:"8) Page Restore Confusion",id:"8-page-restore-confusion",level:2},{value:"9) Network Checklist",id:"9-network-checklist",level:2},{value:"10) Often Not a Cotomy Issue",id:"10-often-not-a-cotomy-issue",level:2},{value:"11) Debug Features",id:"11-debug-features",level:2},{value:"12) The Most Important Habit",id:"12-the-most-important-habit",level:2},{value:"What just happened?",id:"what-just-happened",level:2},{value:"Next",id:"next",level:2}];function a(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"debugging-and-tips",children:"Debugging and Tips"})}),"\n",(0,i.jsxs)(n.p,{children:["This final chapter focuses on ",(0,i.jsx)(n.strong,{children:"Cotomy-specific debugging"}),".",(0,i.jsx)(n.br,{}),"\n","The goal is not to teach DevTools, but to show how to diagnose issues by\nfollowing Cotomy's design philosophy."]}),"\n",(0,i.jsx)(n.p,{children:"Because Cotomy does not introduce a render abstraction, UI behavior is\ndirectly observable."}),"\n",(0,i.jsx)(n.p,{children:"If you cannot see it in the DOM, Cotomy is not tracking it."}),"\n",(0,i.jsx)(n.h2,{id:"goals",children:"Goals"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Debug by inspecting the real DOM, not shadow state"}),"\n",(0,i.jsx)(n.li,{children:"Find common failure points quickly"}),"\n",(0,i.jsx)(n.li,{children:"Apply a consistent, Cotomy-style troubleshooting flow"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"related-classes",children:"Related Classes"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\nclass CotomyDebugSettings\nclass CotomyDebugFeature\nclass CotomyElement\n\nCotomyDebugSettings ..> CotomyDebugFeature : enables\nCotomyDebugSettings ..> CotomyElement : logs"}),"\n",(0,i.jsx)(n.h2,{id:"1-cotomy-debugging-mindset",children:"1) Cotomy Debugging Mindset"}),"\n",(0,i.jsx)(n.p,{children:"Cotomy uses the real DOM as UI state."}),"\n",(0,i.jsx)(n.p,{children:"Because there is no hidden render layer, DevTools is usually enough to explain\nwhat the UI is doing."}),"\n",(0,i.jsx)(n.p,{children:"When debugging:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Inspect the DOM, not JavaScript variables"}),"\n",(0,i.jsxs)(n.li,{children:["Check attributes and ",(0,i.jsx)(n.code,{children:"textContent"})]}),"\n",(0,i.jsx)(n.li,{children:"Confirm event handlers are attached to elements"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If you can explain what the DOM looks like, you can explain what the UI is."}),"\n",(0,i.jsx)(n.p,{children:"If the DOM is broken, the UI is broken. That observability is intentional."}),"\n",(0,i.jsx)(n.h2,{id:"2-ui-does-not-update",children:"2) UI Does Not Update"}),"\n",(0,i.jsx)(n.p,{children:"Symptoms: data changed but the view does not."}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Is the element actually in the DOM?"}),"\n",(0,i.jsxs)(n.li,{children:["Does it have the expected ",(0,i.jsx)(n.code,{children:"data-cotomy-bind"}),"?"]}),"\n",(0,i.jsxs)(n.li,{children:["Is there a typo in ",(0,i.jsx)(n.code,{children:"data-cotomy-bind"}),"?"]}),"\n",(0,i.jsx)(n.li,{children:"Did the API response contain that field?"}),"\n",(0,i.jsx)(n.li,{children:"Was rendering skipped due to an API error?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Cotomy binds to DOM attributes. If the attribute is missing, no renderer runs."}),"\n",(0,i.jsx)(n.h2,{id:"3-event-not-firing",children:"3) Event Not Firing"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Confirm ",(0,i.jsx)(n.code,{children:"initialize()"})," was called"]}),"\n",(0,i.jsx)(n.li,{children:"Check that the element was not removed"}),"\n",(0,i.jsx)(n.li,{children:"Use DevTools \u2192 Event Listeners tab"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Cotomy removes handlers when elements are removed.",(0,i.jsx)(n.br,{}),"\n","If the element was re-created or swapped, the handler is gone."]}),"\n",(0,i.jsx)(n.h2,{id:"4-form-submit-not-triggered",children:"4) Form Submit Not Triggered"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Is the root element a ",(0,i.jsx)(n.code,{children:"<form>"}),"?"]}),"\n",(0,i.jsxs)(n.li,{children:["Was ",(0,i.jsx)(n.code,{children:"initialize()"})," called?"]}),"\n",(0,i.jsxs)(n.li,{children:["Does the button have ",(0,i.jsx)(n.code,{children:'type="submit"'}),"?"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"CotomyForm assumes real HTML form semantics."}),"\n",(0,i.jsx)(n.h2,{id:"5-ajax-form-not-loading",children:"5) Ajax Form Not Loading"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Does the form have an entity key?"}),"\n",(0,i.jsxs)(n.li,{children:["Is ",(0,i.jsx)(n.code,{children:'data-cotomy-identify="false"'})," set?"]}),"\n",(0,i.jsx)(n.li,{children:"Did the GET request succeed?"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If the GET fails, no fill happens."}),"\n",(0,i.jsx)(n.h2,{id:"6-renderer-issues",children:"6) Renderer Issues"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Does the element have ",(0,i.jsx)(n.code,{children:"data-cotomy-bind"}),"?"]}),"\n",(0,i.jsx)(n.li,{children:"Is the bind name style correct (bracket vs dot)?"}),"\n",(0,i.jsx)(n.li,{children:"Is the response JSON shape correct?"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Bind names are just lookup keys.",(0,i.jsx)(n.br,{}),"\n","If the shape is wrong, the renderer never runs."]}),"\n",(0,i.jsx)(n.p,{children:"If input values update but display elements do not, the issue is likely in\nrendering. If display updates but inputs do not, the issue is in fill."}),"\n",(0,i.jsx)(n.h2,{id:"7-scoped-css-problems",children:"7) Scoped CSS Problems"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Is a ",(0,i.jsx)(n.code,{children:'<style id="css-...">'})," generated?"]}),"\n",(0,i.jsxs)(n.li,{children:["Does the selector use ",(0,i.jsx)(n.code,{children:"[root]"})," when targeting the root?"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Cotomy rewrites ",(0,i.jsx)(n.code,{children:"[root]"})," to the element's scope id."]}),"\n",(0,i.jsx)(n.h2,{id:"8-page-restore-confusion",children:"8) Page Restore Confusion"}),"\n",(0,i.jsx)(n.p,{children:"Check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Restore runs only when bfcache is used"}),"\n",(0,i.jsx)(n.li,{children:"Use a normal reload to confirm baseline behavior"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If a page is not restored from cache, restore hooks will not run."}),"\n",(0,i.jsx)(n.h2,{id:"9-network-checklist",children:"9) Network Checklist"}),"\n",(0,i.jsx)(n.p,{children:"In the Network tab, check:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Status code"}),"\n",(0,i.jsx)(n.li,{children:"Response body"}),"\n",(0,i.jsx)(n.li,{children:"Request payload (FormData)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"10-often-not-a-cotomy-issue",children:"10) Often Not a Cotomy Issue"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The API did not return the expected JSON shape"}),"\n",(0,i.jsxs)(n.li,{children:["The server returned ",(0,i.jsx)(n.code,{children:"204 No Content"})]}),"\n",(0,i.jsx)(n.li,{children:"The element is outside the form or page scope"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"11-debug-features",children:"11) Debug Features"}),"\n",(0,i.jsxs)(n.p,{children:["Enable debug logs with ",(0,i.jsx)(n.code,{children:"CotomyDebugSettings"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import { CotomyDebugSettings, CotomyDebugFeature } from "cotomy";\n\nCotomyDebugSettings.enableAll();\nCotomyDebugSettings.enable(CotomyDebugFeature.Fill);\nCotomyDebugSettings.enable(CotomyDebugFeature.Api);\n'})}),"\n",(0,i.jsx)(n.p,{children:"Typical useful keys:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Fill"})," for form fill output"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Api"})," for request/response logging"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Bind"})," for bind resolution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"FormLoad"})," for auto load behavior"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Debug features only add logging and are production-safe, but be mindful of log\nvolume."}),"\n",(0,i.jsx)(n.h2,{id:"12-the-most-important-habit",children:"12) The Most Important Habit"}),"\n",(0,i.jsx)(n.p,{children:"When something is wrong, inspect in this order:"}),"\n",(0,i.jsx)(n.p,{children:"DOM \u2192 Attributes \u2192 Event listeners \u2192 Network \u2192 API response"}),"\n",(0,i.jsx)(n.p,{children:"This is the Cotomy debugging flow."}),"\n",(0,i.jsx)(n.h2,{id:"what-just-happened",children:"What just happened?"}),"\n",(0,i.jsx)(n.p,{children:"You learned a practical, Cotomy-specific debugging approach:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"DOM first"}),"\n",(0,i.jsx)(n.li,{children:"Attributes second"}),"\n",(0,i.jsx)(n.li,{children:"API and network last"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This is the fastest way to solve real-world Cotomy issues."}),"\n",(0,i.jsx)(n.h2,{id:"next",children:"Next"}),"\n",(0,i.jsx)(n.p,{children:"Next: Use the Reference pages for detailed class and method descriptions."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);