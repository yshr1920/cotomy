"use strict";(globalThis.webpackChunkreference_site=globalThis.webpackChunkreference_site||[]).push([[34],{6464(e,t,n){n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"reference/getting-started/forms-basics","title":"Forms Basics","description":"Forms in Cotomy are structured UI units built on the same DOM-state model.","source":"@site/docs/reference/getting-started/04-forms-basics.md","sourceDirName":"reference/getting-started","slug":"/reference/getting-started/forms-basics","permalink":"/cotomy/reference/getting-started/forms-basics","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Forms Basics","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Events and State","permalink":"/cotomy/reference/getting-started/events-and-state"},"next":{"title":"API Client Basics","permalink":"/cotomy/reference/getting-started/api-integration"}}');var o=n(4848),i=n(8453);const r={title:"Forms Basics",sidebar_position:4},l="Forms Basics",d={},c=[{value:"Form Types at a Glance",id:"form-types-at-a-glance",level:2},{value:"Goals",id:"goals",level:2},{value:"Related Classes",id:"related-classes",level:2},{value:"Steps",id:"steps",level:2},{value:"1) Create a form element",id:"1-create-a-form-element",level:3},{value:"1a) Recommended: bind existing HTML",id:"1a-recommended-bind-existing-html",level:3},{value:"2) Initialize the form",id:"2-initialize-the-form",level:3},{value:"3) Understand the submit flow",id:"3-understand-the-submit-flow",level:3},{value:"4) Access form values",id:"4-access-form-values",level:3},{value:"Important Concept: Forms are Still DOM",id:"important-concept-forms-are-still-dom",level:2},{value:"CotomyForm does not:",id:"cotomyform-does-not",level:3},{value:"What just happened?",id:"what-just-happened",level:2},{value:"Next",id:"next",level:2}];function a(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"forms-basics",children:"Forms Basics"})}),"\n",(0,o.jsxs)(t.p,{children:["Forms in Cotomy are structured UI units built on the same DOM-state model.\n",(0,o.jsx)(t.code,{children:"CotomyForm"})," adds a predictable submission flow on top of ",(0,o.jsx)(t.code,{children:"CotomyElement"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"Forms are screen-level processing units, not UI components."}),"\n",(0,o.jsx)(t.h2,{id:"form-types-at-a-glance",children:"Form Types at a Glance"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Form Type"}),(0,o.jsx)(t.th,{children:"Base"}),(0,o.jsx)(t.th,{children:"Purpose"}),(0,o.jsx)(t.th,{children:"Notes"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyForm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyElement"})}),(0,o.jsx)(t.td,{children:"Standard submit lifecycle"}),(0,o.jsxs)(t.td,{children:["Use when you want full control of ",(0,o.jsx)(t.code,{children:"submitAsync()"})]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyQueryForm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyForm"})}),(0,o.jsx)(t.td,{children:"Query navigation via GET"}),(0,o.jsx)(t.td,{children:"Builds a query string from inputs and navigates"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyApiForm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyForm"})}),(0,o.jsxs)(t.td,{children:["API submit with ",(0,o.jsx)(t.code,{children:"FormData"})]}),(0,o.jsxs)(t.td,{children:["Handles ",(0,o.jsx)(t.code,{children:"FormData"})," and API error events"]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyEntityApiForm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyApiForm"})}),(0,o.jsx)(t.td,{children:"Entity-aware API submit"}),(0,o.jsx)(t.td,{children:"Switches POST to PUT when an entity key exists"})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyEntityFillApiForm"})}),(0,o.jsx)(t.td,{children:(0,o.jsx)(t.code,{children:"CotomyEntityApiForm"})}),(0,o.jsx)(t.td,{children:"Load and fill inputs"}),(0,o.jsx)(t.td,{children:"Fetches data and fills inputs on load and submit"})]})]})]}),"\n",(0,o.jsx)(t.h2,{id:"goals",children:"Goals"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Define a form using ",(0,o.jsx)(t.code,{children:"CotomyForm"})]}),"\n",(0,o.jsx)(t.li,{children:"Understand Cotomy's submit lifecycle"}),"\n",(0,o.jsx)(t.li,{children:"See how form elements remain DOM-based"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"related-classes",children:"Related Classes"}),"\n",(0,o.jsx)(t.mermaid,{value:"classDiagram\nclass CotomyElement\nclass CotomyForm\nclass CotomyQueryForm\nclass CotomyApiForm\nclass CotomyEntityApiForm\nclass CotomyEntityFillApiForm\n\nCotomyElement <|-- CotomyForm\nCotomyForm <|-- CotomyQueryForm\nCotomyForm <|-- CotomyApiForm\nCotomyApiForm <|-- CotomyEntityApiForm\nCotomyEntityApiForm <|-- CotomyEntityFillApiForm"}),"\n",(0,o.jsx)(t.h2,{id:"steps",children:"Steps"}),"\n",(0,o.jsx)(t.h3,{id:"1-create-a-form-element",children:"1) Create a form element"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:'import { CotomyElement, CotomyForm } from "cotomy";\n\nclass SimpleForm extends CotomyForm {\n\tpublic async submitAsync(): Promise<void> {\n\t\tconsole.log("Form submitted");\n\t}\n}\n\nconst form = new SimpleForm(`\n\t<form>\n\t\t<input name="name" />\n\t\t<button type="submit">Send</button>\n\t</form>\n`);\n\nform.appendTo(new CotomyElement(document.body));\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The root element must be a ",(0,o.jsx)(t.code,{children:"<form>"})," element. ",(0,o.jsx)(t.code,{children:"CotomyForm"})," does not create one\nfor you."]}),"\n",(0,o.jsx)(t.h3,{id:"1a-recommended-bind-existing-html",children:"1a) Recommended: bind existing HTML"}),"\n",(0,o.jsxs)(t.p,{children:["Cotomy typically works with static or server-rendered HTML, then binds behavior\nto the existing form using ",(0,o.jsx)(t.code,{children:"byId()"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-html",children:'<form id="profile-form">\n\t<input name="name" />\n\t<button type="submit">Save</button>\n</form>\n'})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:'import { CotomyForm } from "cotomy";\n\nclass ProfileForm extends CotomyForm {\n\tpublic async submitAsync(): Promise<void> {\n\t\tconsole.log("Profile submitted");\n\t}\n}\n\nconst form = CotomyForm.byId<ProfileForm>("profile-form", ProfileForm);\nform?.initialize();\n'})}),"\n",(0,o.jsx)(t.h3,{id:"2-initialize-the-form",children:"2) Initialize the form"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"form.initialize();\n"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.code,{children:"initialize()"})," sets up Cotomy's internal submit handling.\nIt must be called once to enable Cotomy's submit lifecycle."]}),"\n",(0,o.jsx)(t.h3,{id:"3-understand-the-submit-flow",children:"3) Understand the submit flow"}),"\n",(0,o.jsx)(t.p,{children:"When the form is submitted:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Default browser submit is prevented"}),"\n",(0,o.jsxs)(t.li,{children:["Cotomy calls ",(0,o.jsx)(t.code,{children:"submitAsync()"})]}),"\n",(0,o.jsx)(t.li,{children:"You control what happens next"}),"\n"]}),"\n",(0,o.jsx)(t.h3,{id:"4-access-form-values",children:"4) Access form values"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:'const nameInput = form.first(`input[name="name"]`);\nconsole.log(nameInput?.value);\n'})}),"\n",(0,o.jsx)(t.p,{children:"The state still lives in the DOM."}),"\n",(0,o.jsx)(t.h2,{id:"important-concept-forms-are-still-dom",children:"Important Concept: Forms are Still DOM"}),"\n",(0,o.jsxs)(t.p,{children:["Cotomy does not create a separate form model. Inputs, values, and validation\nremain tied to the DOM. ",(0,o.jsx)(t.code,{children:"CotomyForm"})," only standardizes the submission\nlifecycle."]}),"\n",(0,o.jsx)(t.p,{children:"Cotomy avoids model binding to keep state observable and prevent hidden sync\nlogic from creeping into long-lived screens.\nForm state is not mirrored in JavaScript objects, so there is no hidden sync\nlayer."}),"\n",(0,o.jsx)(t.p,{children:"Form submission logic is centralized, but field state remains local to each\ninput."}),"\n",(0,o.jsx)(t.h3,{id:"cotomyform-does-not",children:"CotomyForm does not:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Add a global form state store"}),"\n",(0,o.jsx)(t.li,{children:"Auto-bind inputs to JS objects"}),"\n",(0,o.jsx)(t.li,{children:"Replace native form behavior entirely"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"what-just-happened",children:"What just happened?"}),"\n",(0,o.jsx)(t.p,{children:"You:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Created a form element"}),"\n",(0,o.jsx)(t.li,{children:"Attached it to the DOM"}),"\n",(0,o.jsx)(t.li,{children:"Registered Cotomy's submit lifecycle"}),"\n",(0,o.jsx)(t.li,{children:"Handled submission in code"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"This pattern scales to API and entity forms."}),"\n",(0,o.jsx)(t.h2,{id:"next",children:"Next"}),"\n",(0,o.jsxs)(t.p,{children:["Next: ",(0,o.jsx)(t.a,{href:"/cotomy/reference/getting-started/api-integration",children:"API Client Basics"})," to call APIs without forms."]})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>l});var s=n(6540);const o={},i=s.createContext(o);function r(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);